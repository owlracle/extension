import gasTimer from"./gas.min.js";import chart from"./chart.min.js";import api from"./api.min.js";import{login,menu,Dropdown,network,cookies}from"./utils.min.js";document.addEventListener("DOMContentLoaded",async()=>{menu.init(),gasTimer.init(),chart.init();const networkSwitcher={element:document.querySelector("#network-btn"),bound:!1,reload:function(){this.bound||(this.bound=!0,this.bindClick(),this.element.classList.remove("hidden")),document.querySelector("#header #link").href=`https://owlracle.info/${network.get().symbol}`,this.element.removeAttribute("class"),this.element.classList.add(network.get().symbol),this.element.querySelector("img").src=`https://owlracle.info/img/${network.get().symbol}.png`,this.element.querySelector("span").innerHTML=network.get().name,"gas"==menu.getActive()&&gasTimer.update(),"chart"==menu.getActive()&&chart.timeframeSwitch()},get:function(){return this.element},bindClick:function(){new Dropdown({button:this.element,itemList:Object.values(network.getList()).map(e=>({id:e.symbol,innerHTML:`<img class="icon" src="${e.icon.src}" alt="${e.name} icon"><span class="name">${e.name}</span>`})),clickFn:e=>{network.set(e.id),this.reload()}})}};menu.setClick("gas",()=>networkSwitcher.reload()),menu.setClick("chart",()=>networkSwitcher.reload()),menu.setClick("key",()=>api.check()),login.get("apikey")&&login.refresh();let menuOpt=null;login.get("logged")||(menuOpt="key"),menu.click(menuOpt),chrome.tabs.query({active:!0,currentWindow:!0},tabs=>{chrome.tabs.sendMessage(tabs[0].id,{apiKey:cookies.get("login",!0)},response=>{})})});
//# sourceMappingURL=popup.min.js.map